/**
 * Script to generate songs list from Resources/Songs folder
 * Run this script whenever you add new songs to the folder
 * Usage: node scripts/generate-songs-list.js
 */

const fs = require('fs');
const path = require('path');

const songsFolder = path.join(__dirname, '..', 'Resources', 'Songs');
const outputFile = path.join(__dirname, '..', 'js', 'songs-list.js');

try {
    // Read all MP3 files from Songs folder
    const files = fs.readdirSync(songsFolder)
        .filter(file => file.toLowerCase().endsWith('.mp3'))
        .sort();

    // Generate JavaScript file content
    const songs = files.map(file => {
        const name = file.replace('.mp3', '');
        const path = `Resources/Songs/${file}`;
        return { name, path };
    });

    const content = `/**
 * Auto-generated songs list
 * Generated on: ${new Date().toISOString()}
 * DO NOT EDIT THIS FILE MANUALLY - Run scripts/generate-songs-list.js instead
 */

const AVAILABLE_SONGS = ${JSON.stringify(songs, null, 2)};
`;

    // Write to output file
    fs.writeFileSync(outputFile, content, 'utf8');
    
    console.log(`✓ Generated songs list with ${songs.length} song(s):`);
    songs.forEach(song => console.log(`  - ${song.name}`));
    console.log(`✓ Output written to: ${outputFile}`);
} catch (error) {
    console.error('Error generating songs list:', error.message);
    process.exit(1);
}
